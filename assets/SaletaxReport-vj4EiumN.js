import{a0 as k,a1 as I,j as e,r,z as _,ae as P,v as J,F as E,Y as F,_ as w,$ as g,I as K,J as Q,K as X,M as R,O as s,Q as Z}from"./index-B24U4oXx.js";import{d as ee,T as te,E as ae,u as f,w as re}from"./PictureAsPdf-7dlLabor.js";import{d as se}from"./Description-BXN-XfhQ.js";import{C as oe}from"./Container-Dltl4W0f.js";var y={},le=I;Object.defineProperty(y,"__esModule",{value:!0});var j=y.default=void 0,ne=le(k()),de=e;j=y.default=(0,ne.default)((0,de.jsx)("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"}),"ArrowUpward");var v={},ie=I;Object.defineProperty(v,"__esModule",{value:!0});var C=v.default=void 0,ce=ie(k()),xe=e;C=v.default=(0,ce.default)((0,xe.jsx)("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8z"}),"ArrowDownward");const me=()=>{const[i,V]=r.useState(""),[c,z]=r.useState(""),[n,$]=r.useState(""),[h,B]=r.useState(""),[S]=r.useState([{id:1,itemCategory:"Electronics",salesAmount:2e3,taxCollected:360,taxType:"GST",date:"2024-09-01"},{id:2,itemCategory:"Clothing",salesAmount:1500,taxCollected:270,taxType:"GST",date:"2024-09-05"},{id:3,itemCategory:"Furniture",salesAmount:3e3,taxCollected:540,taxType:"VAT",date:"2024-09-10"},{id:4,itemCategory:"Stationery",salesAmount:800,taxCollected:144,taxType:"VAT",date:"2024-09-12"}]),[o,L]=r.useState(S),[m,T]=r.useState(0),[x,M]=r.useState(5),[u,O]=r.useState("asc"),[l,W]=r.useState("salesAmount"),q=()=>{if(o.length===0){alert("No data to export");return}const t=new ae;t.text("Sale Tax Report",14,10),t.autoTable({head:[["Date","Item Category","Sales Amount","Tax Collected"]],body:o.map(a=>[a.date,a.itemCategory,a.salesAmount.toFixed(2),a.taxCollected.toFixed(2)]),startY:20}),t.save("sale_tax_report.pdf")},G=()=>{if(o.length===0){alert("No data to export");return}const t=f.json_to_sheet(o.map(d=>({Date:d.date,"Item Category":d.itemCategory,"Sales Amount":d.salesAmount.toFixed(2),"Tax Collected":d.taxCollected.toFixed(2)}))),a=f.book_new();f.book_append_sheet(a,t,"Sale Tax Report"),re(a,"sale_tax_report.xlsx")},N=t=>{B(t.target.value),t.target.value==="pdf"?q():t.target.value==="excel"&&G()},U=()=>{const t=new Date(i),a=new Date(c),d=S.filter(D=>{const A=new Date(D.date),Y=(!i||A>=t)&&(!c||A<=a),H=!n||D.taxType===n;return Y&&H});L(d)};r.useEffect(()=>{U()},[i,c,n]);const p=t=>{O(l===t&&u==="asc"?"desc":"asc"),W(t)},b=o.sort((t,a)=>u==="asc"?t[l]>a[l]?1:-1:t[l]<a[l]?1:-1);return e.jsx(oe,{maxWidth:"lg",sx:{marginTop:4},children:e.jsxs(_,{elevation:3,sx:{padding:4,backgroundColor:"#f9dff5"},children:[e.jsx(P,{variant:"h4",gutterBottom:!0,align:"center",color:"purple",children:"Sale Tax Report"}),e.jsxs(J,{sx:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",gap:2,marginBottom:3},children:[e.jsx(E,{label:"Start Date",type:"date",value:i,onChange:t=>V(t.target.value),InputLabelProps:{shrink:!0},sx:{minWidth:150}}),e.jsx(E,{label:"End Date",type:"date",value:c,onChange:t=>z(t.target.value),InputLabelProps:{shrink:!0},sx:{minWidth:150}}),e.jsx(F,{sx:{minWidth:150},children:e.jsxs(w,{value:n,onChange:t=>$(t.target.value),displayEmpty:!0,renderValue:()=>n||"Select Tax Type",children:[e.jsx(g,{value:"GST",children:"GST"}),e.jsx(g,{value:"VAT",children:"VAT"})]})}),e.jsx(F,{sx:{minWidth:150},children:e.jsxs(w,{value:h,onChange:N,displayEmpty:!0,renderValue:()=>h||"Export As",children:[e.jsxs(g,{value:"pdf",children:[e.jsx(ee,{sx:{marginRight:1,color:"red"}}),"PDF"]}),e.jsxs(g,{value:"excel",children:[e.jsx(se,{sx:{marginRight:1,color:"green"}}),"Excel"]})]})})]}),o.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(K,{component:_,sx:{marginTop:4,backgroundColor:"#f4c4ec"},children:e.jsxs(Q,{children:[e.jsx(X,{children:e.jsxs(R,{children:[e.jsx(s,{onClick:()=>p("date"),sx:{cursor:"pointer",backgroundColor:"#ea8cdb",fontStyle:"bold",color:"purple"},children:e.jsx("strong",{children:"Date"})}),e.jsx(s,{onClick:()=>p("itemCategory"),sx:{cursor:"pointer",backgroundColor:"#ea8cdb",fontStyle:"bold",color:"purple"},children:e.jsx("strong",{children:"Item Category"})}),e.jsx(s,{onClick:()=>p("salesAmount"),align:"right",sx:{cursor:"pointer",backgroundColor:"#ea8cdb",fontStyle:"bold",color:"purple"},children:e.jsxs("strong",{children:["Sales Amount ",l==="salesAmount"?u==="asc"?e.jsx(j,{fontSize:"small"}):e.jsx(C,{fontSize:"small"}):null]})}),e.jsx(s,{onClick:()=>p("taxCollected"),align:"right",sx:{cursor:"pointer",backgroundColor:"#ea8cdb",fontStyle:"bold",color:"purple"},children:e.jsxs("strong",{children:["Tax Collected ",l==="taxCollected"?u==="asc"?e.jsx(j,{fontSize:"small"}):e.jsx(C,{fontSize:"small"}):null]})})]})}),e.jsx(Z,{children:b.slice(m*x,m*x+x).map(t=>e.jsxs(R,{children:[e.jsx(s,{children:t.date}),e.jsx(s,{children:t.itemCategory}),e.jsx(s,{align:"right",children:t.salesAmount.toFixed(2)}),e.jsx(s,{align:"right",children:t.taxCollected.toFixed(2)})]},t.id))})]})}),e.jsx(te,{rowsPerPageOptions:[5,10,25],component:"div",count:b.length,rowsPerPage:x,page:m,onPageChange:(t,a)=>T(a),onRowsPerPageChange:t=>{M(parseInt(t.target.value,10)),T(0)}})]}),o.length===0&&e.jsx(P,{variant:"h6",align:"center",color:"text.secondary",sx:{marginTop:4},children:"No data available for the selected filters."})]})})};export{me as default};
